"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[350],{3932:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var a=n(4848),s=n(8453);const r={},o=void 0,i={id:"Docs/data-manager",title:"data-manager",description:"",source:"@site/docs/Docs/data-manager.md",sourceDirName:"Docs",slug:"/Docs/data-manager",permalink:"/flight-deals/docs/Docs/data-manager",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Docs/data-manager.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",next:{title:"flight-data",permalink:"/flight-deals/docs/Docs/flight-data"}},c={},d=[];function l(e){const t={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",metastring:'title="data_manager.py"',children:'\r\nimport requests\r\nimport time\r\nsheety_endpoint = "https://api.sheety.co/6412b111864fc4fd885a00370c1e4359/flightDeals/prices"\r\n\r\nclass DataManager:\r\n#This class is responsible for talking to the Google Sheet.\r\n\r\n    def __init__(self) -> None:\r\n        self.sheet_data = {}\r\n\r\n    def get_sheet_data(self):\r\n        data = requests.get(url= sheety_endpoint)\r\n        self.sheet_data = data.json()["prices"]\r\n        return self.sheet_data\r\n\r\n    def update_iATA_codes(self):\r\n        """Updated Google sheet with missing iATA Codes"""\r\n        for city in self.sheet_data:\r\n            new_data = {\r\n                "price": {\r\n                    "iataCode" : city["iataCode"]\r\n                }\r\n            }\r\n            # time.sleep(1)\r\n            response = requests.put(url=f"{sheety_endpoint}/{city[\'id\']}", json=new_data)\r\n            # print(response.text)\n'})})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>i});var a=n(6540);const s={},r=a.createContext(s);function o(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);